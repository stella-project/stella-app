version: '3'
services:
    web:
        build: .
        volumes:
          - /var/run/docker.sock/:/var/run/docker.sock
        ports:
            - "80:80"
        depends_on:
          - solr

    solr:
      image: solr
      container_name: solr-container
      volumes:
        - ~/data/sample/:/opt/solr/collection/
        - ./solr/script/:/script/
        # - ./solr/init/:/docker-entrypoint-initdb.d/
      ports:
        - "8983:8983"